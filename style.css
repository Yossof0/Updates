:root {
  --bg:#0f1724;
  --card:#0b1220;
  --accent:#7c3aed;
  --muted:#94a3b8;
  --glass:rgba(255,255,255,0.05);
}

body {
  margin:0;
  font-family: Inter, system-ui, sans-serif;
  background:#071028; /* flatter background for faster paint */
  color:#e6eef8;
}

.wrap {
  max-width:800px;
  margin:0 auto;
  padding:16px;
}

.card {
  background:var(--card);
  border-radius:12px;
  padding:16px;
  box-shadow:0 6px 18px rgba(0,0,0,0.5);
}

.container {
  display:flex;
  gap:12px;
}

/* Mobile improvements: make composer sticky and buttons larger for tap targets */
.chat-body { padding-bottom: 84px; }
.composer { position: sticky; bottom: 0; background: linear-gradient(180deg, rgba(11,17,32,0.6), rgba(11,17,32,0.9)); padding:12px; border-top-left-radius:10px; border-top-right-radius:10px; }
button { min-height:44px; padding:12px 14px; }
.group-actions button { padding:10px 12px; font-size:14px; }
.groups-list { padding-bottom: 12px; }

.sidebar {
  width:240px;
  background:rgba(255,255,255,0.02);
  border-radius:10px;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.sidebar-top { display:flex; justify-content:space-between; align-items:center; }
.groups-list { display:flex; flex-direction:column; gap:8px; overflow:auto; max-height:60vh; }
.groups-list .group-item { display:flex; justify-content:space-between; align-items:center; padding:10px; border-radius:10px; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03); }
.group-info { display:flex; flex-direction:column; }
.group-title { font-weight:700; color: #e6eef8; font-size:14px; }
.group-code { font-size:12px; color:var(--muted); margin-top:4px; }
.group-actions button { margin-left:6px; padding:6px 8px; font-size:13px; min-height:36px; }

.group-input { background:#0b1220; border:1px solid rgba(255,255,255,0.03); padding:8px 10px; border-radius:8px; color:inherit; }
.group-input::placeholder { color: #6b7280; }

.main { flex:1; display:flex; flex-direction:column; gap:8px; }
.chat-header { display:flex; justify-content:space-between; align-items:center; padding:8px; border-bottom:1px solid rgba(255,255,255,0.03); }
.chat-body { padding:12px; display:flex; flex-direction:column; gap:10px; min-height:320px; max-height:60vh; overflow:auto; }

.bubble { max-width:72%; padding:10px 12px; border-radius:18px; display:inline-block; position:relative; }
.bubble.user { align-self:flex-start; background:#ffffff10; color:var(--muted); border-top-left-radius:4px; border-bottom-left-radius:4px; }
.bubble.admin { align-self:flex-end; background:#DCF8C6; color:#111827; border-top-right-radius:4px; border-bottom-right-radius:4px; }
.bubble.admin .meta, .bubble.user .meta { opacity:0.7; font-size:11px; }
.bubble-text { white-space:pre-wrap; }

.bubble-del { position:static; margin-left:8px; background:transparent; color:var(--muted); border:none; padding:4px 6px; border-radius:6px; cursor:pointer; }

.meta { font-size:12px; color:var(--muted); margin-bottom:6px; }

#composerContainer { padding:8px; border-top:1px solid rgba(255,255,255,0.03); }


header h1 {
  margin:0;
  font-size:20px;
}

/* Make header layout flexible */
header {
  display:flex;
  align-items:center;
  gap:12px;
}

header small {
  color:var(--muted);
}

#messages {
  margin-top:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
  max-height:60vh;
  overflow-y:auto;
}

.msg {
  padding:10px;
  border-radius:8px;
  background:var(--glass);
  position:relative;
}

.meta {
  font-size:12px;
  color:var(--muted);
  margin-bottom:4px;
}

.bubble-del {
  background:#ef4444;
  border:none;
  border-radius:6px;
  padding:6px 8px;
  font-size:13px;
  color:white;
  position:absolute;
  top:6px;
  right:6px;
  cursor:pointer;
}

.composer {
  display:flex;
  gap:8px;
  margin-top:12px;
}

textarea {
  flex:1;
  min-height:50px;
  border-radius:8px;
  padding:8px;
  border:none;
  background:#1e293b;
  color:white;
  resize:none;
}

/* Make buttons easier to tap on mobile */
button {
  min-height:40px;
  border:none;
  padding:10px 12px;
  border-radius:8px;
  background:linear-gradient(180deg,var(--accent),#5b21b6);
  color:white;
  font-weight:600;
  cursor:pointer;
}

button:hover {
  opacity:0.9;
}

.hint {
  font-size:12px;
  color:var(--muted);
  margin-top:6px;
}

/* Overlay modal */
.overlay {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.8);
  display:none; /* hidden by default, shown when .visible is added */
  align-items:center;
  justify-content:center;
}

.overlay.visible {
  display:flex;
  animation: overlay-fade 140ms ease;
}

.modal {
  background:#1e293b;
  padding:16px;
  border-radius:10px;
  text-align:center;
  max-width:300px;
  transform-origin:center center;
  animation: modal-pop 140ms cubic-bezier(.2,.9,.2,1);
}

/* Responsive tweaks */
@media (max-width:520px) {
  :root {
    --card-padding:12px;
  }
  .wrap { padding:8px; }
  .card { padding:8px; border-radius:8px; }
  header h1 { font-size:18px; }
  .modal { width:92%; max-width:320px; padding:16px; }
  .container { flex-direction:column; }
  .sidebar { width:100%; order:2; }
  .main { order:1; }
  .composer { flex-direction:column; }
  textarea { min-height:90px; }
  .modal button { font-size:16px; padding:10px; }
  .change-role-btn { padding:8px 10px; font-size:13px; }
  .group-actions { display:flex; gap:8px; }
  .group-actions button { flex:1; }
}

.modal button {
  width:100%;
  margin-top:10px;
}

input[type=password] {
  width:100%;
  padding:8px;
  border-radius:6px;
  border:none;
  margin-bottom:6px;
}

/* focus styles for accessibility */
button:focus, input:focus, textarea:focus {
  outline:3px solid rgba(124,58,237,0.18);
  outline-offset:2px;
}

@keyframes overlay-fade {
  from { background: rgba(0,0,0,0); }
  to { background: rgba(0,0,0,0.7); }
}

@keyframes modal-pop {
  from { transform: scale(0.98); opacity:0; }
  to { transform: scale(1); opacity:1; }
}
.change-role-btn {
  margin-left:auto;
  background:#334155;
  color:white;
  border:none;
  border-radius:6px;
  padding:6px 10px;
  font-size:12px;
  cursor:pointer;
}

.change-role-btn:hover {
  background:#475569;
}
